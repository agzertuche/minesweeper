(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(16)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r,a,c=n(0),o=n.n(c),u=n(5),l=n.n(u),i=(n(12),n(1)),s=n(2),E=n(3),f=n(6),b=Object.freeze({BEGGINER:Symbol("BEGGINER"),INTERMEDIATE:Symbol("INTERMEDIATE"),ADVANCED:Symbol("ADVANCED")}),O=Object.freeze({PLAYING:Symbol("PLAYING"),PAUSED:Symbol("PAUSED"),GAMEOVER:Symbol("GAMEOVER"),COMPLETED:Symbol("COMPLETED")}),m=Object.freeze({DARK:Symbol("DARK"),LIGHT:Symbol("LIGHT"),HALLOWEEN:Symbol("HALLOWEEN"),GAMER:Symbol("GAMER")}),D=Object.freeze({FLAGGED:Symbol("FLAGGED"),QUESTIONED:Symbol("QUESTIONED"),REVEALED:Symbol("REVEALED"),HIDDEN:Symbol("HIDDEN"),EXPLODED:Symbol("EXPLODED")}),v=Object.freeze({DIFFICULTY:(r={},Object(i.a)(r,b.BEGGINER,{mines:10,size:9}),Object(i.a)(r,b.INTERMEDIATE,{mines:40,size:16}),Object(i.a)(r,b.ADVANCED,{mines:99,size:24}),r),THEME:(a={},Object(i.a)(a,m.LIGHT,{background:"#f2f2f2",color:"#333333"}),Object(i.a)(a,m.DARK,{background:"#333333",color:"#f2f2f2"}),Object(i.a)(a,m.HALLOWEEN,{background:"#eb6123",color:"black"}),Object(i.a)(a,m.GAMER,{background:"#663399",color:"yellow"}),a)});n(13);var p=function(e){var t=e.status,n=e.children,r=Object(f.a)(e,["status","children"]);return o.a.createElement("button",Object.assign({type:"button",disabled:t===D.REVEALED||t===D.EXPLODED,className:t===D.EXPLODED?"exploded":null},r),t===D.EXPLODED?"\ud83d\udca5":t===D.FLAGGED?"\ud83d\udea9":t===D.QUESTIONED?"\u2753":t===D.REVEALED?0===n?"":9===n?"\ud83d\udca3":n:void 0)};var j=function(e){var t=e.count,n=e.label;return o.a.createElement("div",null,n,t<10?"00".concat(t):t<100?"0".concat(t):t)};var y=o.a.createContext([{},function(){}]);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var A=function(e){var t=e.delay,n=void 0===t?1e3:t,r=Object(c.useContext)(y),a=Object(s.a)(r,2),u=a[0],l=a[1];return function(e,t){var n=Object(c.useRef)();Object(c.useEffect)((function(){n.current=e}),[e]),Object(c.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){l((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{time:e.time+1})}))}),u.status===O.PLAYING?n:null),o.a.createElement(j,{label:"Timer: ",count:u.time})};function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(14);var P=function(){var e=function(){var e=Object(c.useContext)(y),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)((function(){return i()})),o=Object(s.a)(a,2),u=o[0],l=o[1];function i(){for(var e=v.DIFFICULTY[n.difficulty],t=e.mines,r=e.size,a=Array.from({length:r},(function(){return Array.from({length:r},(function(){return{status:D.HIDDEN,value:0}}))})),c=0;c<t;){var o=i(a.length),u=i(a.length),l=a[o][u];9!==l.value&&(l.value=9,c++,s(o,u))}function i(e){return Math.floor(1e3*Math.random()+1)%e}function s(e,t){for(var n=a.length,r=Math.max(0,e-1);r<=Math.min(n-1,e+1);r++)for(var c=a[r].length,o=Math.max(0,t-1);o<=Math.min(c-1,t+1);o++){var u=a[r][o];r===e&&o===t||9!==u.value&&u.value++}}return a}return Object(c.useEffect)((function(){u.flat().filter((function(e){return 9!==e.value})).every((function(e){return e.status===D.REVEALED}))&&r((function(e){return h({},e,{status:O.COMPLETED,records:[].concat(Object(E.a)(e.records),[e.time]).sort()})}))}),[r,u]),{onCellRevealed:function(e,t){!function e(t,n){if(!(t<0||t>=u.length||n<0||n>=u[0].length)){var a=u[t][n];if(a.status!==D.FLAGGED&&a.status!==D.QUESTIONED&&a.status!==D.REVEALED){if(a.status=D.REVEALED,9===a.value)return r((function(e){return h({},e,{status:O.GAMEOVER})})),u.map((function(e){return e.map((function(e){return 9===e.value&&(e.status=D.REVEALED),e}))})),void(a.status=D.EXPLODED);a.value>0||(e(t-1,n-1),e(t-1,n),e(t-1,n+1),e(t+1,n-1),e(t+1,n),e(t+1,n+1),e(t,n-1),e(t,n+1))}}}(e,t),l(Object(E.a)(u))},board:u,setBoard:l,startNewGame:function(){l(Object(E.a)(i())),r((function(e){return h({},e,{status:O.PLAYING,time:0})}))}}}(),t=e.onCellRevealed,n=e.board,r=e.setBoard,a=e.startNewGame,u=Object(c.useContext)(y),l=Object(s.a)(u,1)[0];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"stats"},o.a.createElement(j,{label:"Mines: ",count:v.DIFFICULTY[l.difficulty].mines-n.flat().filter((function(e){return e.status===D.FLAGGED})).length}),o.a.createElement("button",{onClick:a},{PLAYING:"\ud83e\uddd0",PAUSED:"\ud83d\ude2f",GAMEOVER:"\ud83e\udd2f",COMPLETED:"\ud83d\ude0e"}[l.status.description]),o.a.createElement(A,null)),o.a.createElement("div",{className:"board columns-".concat(n.length," ").concat(l.status===O.GAMEOVER||l.status===O.COMPLETED?"gameover":void 0)},n.map((function(e,n){return e.map((function(e,a){var c=e.status,u=e.value;return o.a.createElement(p,{key:"".concat(n,",").concat(a),status:c,onContextMenu:function(e){return function(e,t,n){e.preventDefault(),r((function(e){var r=e[t][n];switch(r.status){case D.FLAGGED:r.status=D.QUESTIONED;break;case D.QUESTIONED:r.status=D.HIDDEN;break;case D.HIDDEN:r.status=D.FLAGGED}return Object(E.a)(e)}))}(e,n,a)},onClick:function(){return t(n,a)}},u)}))}))))};var L=function(e){var t=e.label,n=e.options,r=e.onChange;return o.a.createElement("div",null,"".concat(t,": "),o.a.createElement("select",{onChange:r},Object.values(n).map((function(e){var t=e.description;return o.a.createElement("option",{key:t,value:t},t.toLowerCase())}))))};n(15);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var I=function(){var e=Object(c.useContext)(y),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(v.THEME[m.DARK]),u=Object(s.a)(a,2),l=u[0],E=u[1];return function(e){Object(c.useLayoutEffect)((function(){for(var t in e)document.documentElement.style.setProperty("--".concat(t),e[t])}),[e])}(l),o.a.createElement("main",null,o.a.createElement("header",null,o.a.createElement(L,{label:"Theme",options:m,onChange:function(e){return E(v.THEME[m[e.target.value]])}}),o.a.createElement(L,{label:"Difficulty",options:b,onChange:function(e){var t=e.target.value;r((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(n,!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{difficulty:b[t]})}))}})),o.a.createElement("section",null,o.a.createElement(P,null)),n.records.length>0&&o.a.createElement("footer",null,o.a.createElement("div",null,"Personal records:"),n.records.map((function(e){return o.a.createElement("div",{key:e},e)}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement((function(e){var t=Object(c.useState)({difficulty:b.BEGGINER,status:O.PLAYING,time:0,records:[]}),n=Object(s.a)(t,2),r=n[0],a=n[1];return o.a.createElement(y.Provider,{value:[r,a]},e.children)}),null,o.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[7,1,2]]]);
//# sourceMappingURL=main.d8c997fe.chunk.js.map